{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u0627\\u0644\\u0645\\u0648\\u0642\\u0639\\\\Lucky Store\\\\src\\\\pages\\\\ProductDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport supabase from \"../utils/supabase\";\nimport { useCartStore } from \"../store/cartStore\";\nimport notify from \"../components/ToastNotification\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [product, setProduct] = useState(null);\n  const addToCart = useCartStore(state => state.addToCart);\n  useEffect(() => {\n    const fetchProduct = async () => {\n      const {\n        data,\n        error\n      } = await supabase.from(\"products\").select(\"*\").eq(\"id\", id).single();\n      if (!error && data) {\n        setProduct(data);\n      }\n    };\n    fetchProduct();\n  }, [id]);\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10\",\n      children: \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n  const handleAddToCart = () => {\n    if (product.quantity <= 0) {\n      notify.outOfStock(product.name, product.quantity);\n      return;\n    }\n    addToCart({\n      ...product,\n      maxQuantity: product.quantity\n    });\n    notify.addToCart(product.name, 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-pink-600 mb-4\",\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.image,\n      alt: product.name,\n      className: \"w-full h-96 object-cover rounded-2xl mb-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xl text-pink-600 font-bold mb-4\",\n      children: [product.price, \" \\u062C.\\u0645\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-700 mb-4\",\n      children: product.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-800 mb-4\",\n      children: product.quantity > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"\\u0645\\u062A\\u0627\\u062D: \", product.quantity, \" \\u0642\\u0637\\u0639\\u0629\"]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-500 font-bold\",\n        children: \"\\u063A\\u064A\\u0631 \\u0645\\u062A\\u0648\\u0641\\u0631\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddToCart,\n      disabled: product.quantity <= 0,\n      className: `w-full mt-3 px-4 py-2 rounded-lg font-semibold transition-colors ${product.quantity > 0 ? \"bg-pink-500 text-white hover:bg-pink-600\" : \"bg-gray-400 text-gray-700 cursor-not-allowed\"}`,\n      children: product.quantity > 0 ? \"ÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑÿ≥ŸÑÿ© üõí\" : \"ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠ ‚ùå\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"t49V31wH/UHbVLn6NDBxo84MSH0=\", false, function () {\n  return [useParams, useCartStore];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","supabase","useCartStore","notify","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetails","_s","id","product","setProduct","addToCart","state","fetchProduct","data","error","from","select","eq","single","className","children","fileName","_jsxFileName","lineNumber","columnNumber","handleAddToCart","quantity","outOfStock","name","maxQuantity","src","image","alt","price","description","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/ÿßŸÑŸÖŸàŸÇÿπ/Lucky Store/src/pages/ProductDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport supabase from \"../utils/supabase\";\r\nimport { useCartStore } from \"../store/cartStore\";\r\nimport notify from \"../components/ToastNotification\";\r\n\r\nconst ProductDetails = () => {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const addToCart = useCartStore((state) => state.addToCart);\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"products\")\r\n        .select(\"*\")\r\n        .eq(\"id\", id)\r\n        .single();\r\n\r\n      if (!error && data) {\r\n        setProduct(data);\r\n      }\r\n    };\r\n    fetchProduct();\r\n  }, [id]);\r\n\r\n  if (!product) {\r\n    return <div className=\"text-center py-10\">ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...</div>;\r\n  }\r\n\r\n  const handleAddToCart = () => {\r\n    if (product.quantity <= 0) {\r\n      notify.outOfStock(product.name, product.quantity);\r\n      return;\r\n    }\r\n    addToCart({ ...product, maxQuantity: product.quantity });\r\n    notify.addToCart(product.name, 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6\">\r\n      <h2 className=\"text-3xl font-bold text-pink-600 mb-4\">{product.name}</h2>\r\n      <img\r\n        src={product.image}\r\n        alt={product.name}\r\n        className=\"w-full h-96 object-cover rounded-2xl mb-6\"\r\n      />\r\n      <p className=\"text-xl text-pink-600 font-bold mb-4\">{product.price} ÿ¨.ŸÖ</p>\r\n      <p className=\"text-gray-700 mb-4\">{product.description}</p>\r\n      <p className=\"text-gray-800 mb-4\">\r\n        {product.quantity > 0 ? (\r\n          <>ŸÖÿ™ÿßÿ≠: {product.quantity} ŸÇÿ∑ÿπÿ©</>\r\n        ) : (\r\n          <span className=\"text-red-500 font-bold\">ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÅÿ±</span>\r\n        )}\r\n      </p>\r\n\r\n      <button\r\n        onClick={handleAddToCart}\r\n        disabled={product.quantity <= 0}\r\n        className={`w-full mt-3 px-4 py-2 rounded-lg font-semibold transition-colors ${\r\n          product.quantity > 0\r\n            ? \"bg-pink-500 text-white hover:bg-pink-600\"\r\n            : \"bg-gray-400 text-gray-700 cursor-not-allowed\"\r\n        }`}\r\n      >\r\n        {product.quantity > 0 ? \"ÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑÿ≥ŸÑÿ© üõí\" : \"ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠ ‚ùå\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}